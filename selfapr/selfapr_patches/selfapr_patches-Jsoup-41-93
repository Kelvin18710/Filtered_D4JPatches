--- /src/main/java/org/jsoup/nodes/Element.java
+++ /src/main/java/org/jsoup/nodes/Element.java
@@ -1172,7 +1172,7 @@
 
         Element element = (Element) o;
 
-        return this == o;
+return  this  ==  element.equals(o,  if(tag  ==  null)||  isElementAssignmentToTag(tag))  {  o;  }  else  if(o  instanceof  Element)  {  return((  Element)o).equals(tag
     }
 
     @Override
